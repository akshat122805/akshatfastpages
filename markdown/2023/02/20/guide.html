<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Akshat&#39;s AWS Guide for Deployment</h1><p class="page-description">This notebook will guide you step-by-step on how to configure your AWS instance and deploy your backend. Special thanks to Azeem Khan and Jeffery.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-02-20T00:00:00-06:00" itemprop="datePublished">
        Feb 20, 2023
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/fastpages/categories/#markdown">markdown</a>
        
      
      </p>
    

    
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#Step-1">Step 1 </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Access-AWS!!!">Access AWS!!! </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Step-2">Step 2 </a>
<ul>
<li class="toc-entry toc-h2"><a href="#PORTS!!!">PORTS!!! </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Step-3">Step 3 </a>
<ul>
<li class="toc-entry toc-h2"><a href="#AWS!!!">AWS!!! </a></li>
<li class="toc-entry toc-h2"><a href="#NGINX-stuff-via-Azeem-Khan-&-Jeffery-F.">NGINX stuff via Azeem Khan &amp; Jeffery F. </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Step-4">Step 4 </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Certification-stuff">Certification stuff </a></li>
<li class="toc-entry toc-h2"><a href="#Run-commands-below">Run commands below </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Final-Step">Final Step </a>
<ul>
<li class="toc-entry toc-h2"><a href="#What-if-I-wanted-to-change-code-or-any-other-stuff?">What if I wanted to change code or any other stuff? </a></li>
<li class="toc-entry toc-h2"><a href="#Acknowledgements">Acknowledgements </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-02-20-guide.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-1">
<a class="anchor" href="#Step-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 1<a class="anchor-link" href="#Step-1"> </a>
</h1>
<h2 id="Access-AWS!!!">
<a class="anchor" href="#Access-AWS!!!" aria-hidden="true"><span class="octicon octicon-link"></span></a>Access AWS!!!<a class="anchor-link" href="#Access-AWS!!!"> </a>
</h2>
<ul>
<li>
<p>access <a href="https://aws.amazon.com/marketplace/management/signin">aws</a></p>
</li>
<li>
<p>Set your region to Ohio</p>
</li>
<li>
<p>Find EC2, should be there.</p>
</li>
<li>
<p>Navigate to instances</p>
</li>
<li>
<p>Find NCS.cf Yeung CSP or NCS.gq Mort CSP and click connect.</p>
</li>
<li>
<p>Type in cd ~</p>
</li>
<li>
<p>Run the commands below:</p>
</li>
</ul>
<p>First you type in: $ virtualenv -p /usr/bin/python3 webapp</p>
<p>Then type: $ source webapp/bin/activate</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-2">
<a class="anchor" href="#Step-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 2<a class="anchor-link" href="#Step-2"> </a>
</h1>
<h2 id="PORTS!!!">
<a class="anchor" href="#PORTS!!!" aria-hidden="true"><span class="octicon octicon-link"></span></a>PORTS!!!<a class="anchor-link" href="#PORTS!!!"> </a>
</h2>
<ol>
<li>Run sudo docker ps</li>
</ol>
<p>You should see a huge list of ports regarding your project name.</p>
<p>Select a port that is not in use, anything in the 8000s.</p>
<p>Then go to your backend repo, this is your flask.</p>
<p>Make sure your Dockerfile matches what it says below:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now Type in sudo docker-compose up in your terminal</p>
<p>After that type in the link in your browser: something like <a href="https://localhost:PORTNUMBER">https://localhost:PORTNUMBER</a>.. if this works, push your changes and your good.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-3">
<a class="anchor" href="#Step-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 3<a class="anchor-link" href="#Step-3"> </a>
</h1>
<h2 id="AWS!!!">
<a class="anchor" href="#AWS!!!" aria-hidden="true"><span class="octicon octicon-link"></span></a>AWS!!!<a class="anchor-link" href="#AWS!!!"> </a>
</h2>
<p>In the AWS terminal;</p>
<ul>
<li>
<p>go to your repo by cding</p>
</li>
<li>
<p>git clone your flask</p>
</li>
<li>
<p>run $ pip install -r requirements.txt</p>
</li>
<li>
<p>go to main.py file and run python3 main.py, if it works, good job.</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<p>now type in docker-compose up -d --build</p>
</li>
<li>
<p>now curl your site by typing - curl localhost:PORTNUMBER</p>
</li>
<li>
<p>If it shows you a bunch of HTML, this is a good sign and now your almost done.</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="NGINX-stuff-via-Azeem-Khan-&amp;-Jeffery-F.">
<a class="anchor" href="#NGINX-stuff-via-Azeem-Khan-&amp;-Jeffery-F." aria-hidden="true"><span class="octicon octicon-link"></span></a>NGINX stuff via Azeem Khan &amp; Jeffery F.<a class="anchor-link" href="#NGINX-stuff-via-Azeem-Khan-&amp;-Jeffery-F."> </a>
</h2>
<p>So it turns out Jeffery created a pretty good guide for nginx stuff, here is a link to access it: <a href="https://moonpiedumplings.github.io/quartotest/posts/duckdns/">Jeffrey's guide to duckdns</a></p>
<p>make sure to create your own config file: you can type in $ sudo nano PROJECTNAME</p>
<p>My friend Azeem did a great job by including how your config file should look like so here it is:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>
<p>save changes - CTRL X</p>
</li>
<li>
<p>create a link:</p>
</li>
</ul>
<p>$ cd /etc/nginx/sites-enabled</p>
<p>$ ln -s /etc/nginx/sites-available/PROJECTNAME/etc/nginx/sites-enabled</p>
<p>then type $ sudo nginx -t</p>
<ul>
<li>now you have to restart so run:</li>
</ul>
<p>sudo systemctl restart nginx</p>
<ul>
<li>check if it works on chrome or your preferred browser. </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-4">
<a class="anchor" href="#Step-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 4<a class="anchor-link" href="#Step-4"> </a>
</h1>
<h2 id="Certification-stuff">
<a class="anchor" href="#Certification-stuff" aria-hidden="true"><span class="octicon octicon-link"></span></a>Certification stuff<a class="anchor-link" href="#Certification-stuff"> </a>
</h2>
<p>Certbot allows your site to be HTTPS, this is good.</p>
<h2 id="Run-commands-below">
<a class="anchor" href="#Run-commands-below" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run commands below<a class="anchor-link" href="#Run-commands-below"> </a>
</h2>
<p>$ cd</p>
<p>$ sudo snap install core; sudo snap refresh core</p>
<p>$ sudo snap install --classic certbot</p>
<p>$ sudo ln -s /snap/bin/certbot</p>
<p>$ sudo certbot --nginx</p>
<p>My friend Azeem helped me understand why we need https and a valid certificate, he taught me to run these commands.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Final-Step">
<a class="anchor" href="#Final-Step" aria-hidden="true"><span class="octicon octicon-link"></span></a>Final Step<a class="anchor-link" href="#Final-Step"> </a>
</h1>
<h2 id="What-if-I-wanted-to-change-code-or-any-other-stuff?">
<a class="anchor" href="#What-if-I-wanted-to-change-code-or-any-other-stuff?" aria-hidden="true"><span class="octicon octicon-link"></span></a>What if I wanted to change code or any other stuff?<a class="anchor-link" href="#What-if-I-wanted-to-change-code-or-any-other-stuff?"> </a>
</h2>
<ul>
<li>
<p>cd to your project</p>
</li>
<li>
<p>type:</p>
</li>
</ul>
<p>sudo docker-compose ps</p>
<ul>
<li>now type:</li>
</ul>
<p>sudo docker ps</p>
<ul>
<li>
<p>run: git status (to see if there are changes)</p>
</li>
<li>
<p>type in:</p>
</li>
</ul>
<p>sudo docker-compose kill</p>
<p>now it should say 502 BAD GATEWAY</p>
<ul>
<li>
<p>make sure to git pull</p>
</li>
<li>
<p>type in:</p>
</li>
</ul>
<p>sudo docker-compose up -d --build</p>
<ul>
<li>restart:</li>
</ul>
<p>sudo systemctl restart nginx</p>
<ul>
<li>cd into your project and type in curl localhost:PORTNUMBER</li>
</ul>
<p>You can probably see changes saving</p>
<ul>
<li>now type in your url in browser and see if the changes saved. </li>
</ul>
<p>If it did, good job, it worked!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Acknowledgements">
<a class="anchor" href="#Acknowledgements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgements<a class="anchor-link" href="#Acknowledgements"> </a>
</h2>
<p>Azeem Khan helped me understand a few steps regarding this blog, Jeffery also made a good nginx guide, so I am willing to acknowledge them for helping me develop this guide.</p>
<p>Thank you</p>

</div>
</div>
</div>
</div>



  </div><a class="u-url" href="/fastpages/markdown/2023/02/20/guide.html" hidden></a>
</article>
