---
keywords: fastai
title: RapidAPI -- City API for College List
nb_path: _notebooks/2022-10-10-rapidapi.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-10-10-rapidapi.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://wft-geo-db.p.rapidapi.com/v1/geo/adminDivisions&quot;</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;9c66664f59msh6192ef0d1546d18p17967bjsne6b5e3ca1958&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;wft-geo-db.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#34;data&#34;:[{&#34;id&#34;:3517016,&#34;wikiDataId&#34;:&#34;Q228&#34;,&#34;name&#34;:&#34;Andorra&#34;,&#34;country&#34;:&#34;Andorra&#34;,&#34;countryCode&#34;:&#34;AD&#34;,&#34;latitude&#34;:42.558333333,&#34;longitude&#34;:1.555277777,&#34;population&#34;:78151},{&#34;id&#34;:3515514,&#34;wikiDataId&#34;:&#34;Q4117373&#34;,&#34;name&#34;:&#34;Al Mamzar&#34;,&#34;country&#34;:&#34;United Arab Emirates&#34;,&#34;countryCode&#34;:&#34;AE&#34;,&#34;region&#34;:&#34;Dubai&#34;,&#34;regionCode&#34;:&#34;DU&#34;,&#34;latitude&#34;:25.309469444,&#34;longitude&#34;:55.342811111,&#34;population&#34;:0},{&#34;id&#34;:3517068,&#34;wikiDataId&#34;:&#34;Q878&#34;,&#34;name&#34;:&#34;United Arab Emirates&#34;,&#34;country&#34;:&#34;United Arab Emirates&#34;,&#34;countryCode&#34;:&#34;AE&#34;,&#34;latitude&#34;:23.75,&#34;longitude&#34;:54.5,&#34;population&#34;:9890400},{&#34;id&#34;:3386644,&#34;wikiDataId&#34;:&#34;Q3694483&#34;,&#34;name&#34;:&#34;Ab Band District&#34;,&#34;country&#34;:&#34;Afghanistan&#34;,&#34;countryCode&#34;:&#34;AF&#34;,&#34;region&#34;:&#34;Ghazni&#34;,&#34;regionCode&#34;:&#34;GHA&#34;,&#34;latitude&#34;:32.983,&#34;longitude&#34;:67.967,&#34;population&#34;:0},{&#34;id&#34;:3339608,&#34;wikiDataId&#34;:&#34;Q2572213&#34;,&#34;name&#34;:&#34;Ab Kamari&#34;,&#34;country&#34;:&#34;Afghanistan&#34;,&#34;countryCode&#34;:&#34;AF&#34;,&#34;region&#34;:&#34;Badghis&#34;,&#34;regionCode&#34;:&#34;BDG&#34;,&#34;latitude&#34;:34.925,&#34;longitude&#34;:62.901666666,&#34;population&#34;:0}],&#34;links&#34;:[{&#34;rel&#34;:&#34;first&#34;,&#34;href&#34;:&#34;/v1/geo/cities?offset=0&amp;limit=5&#34;},{&#34;rel&#34;:&#34;next&#34;,&#34;href&#34;:&#34;/v1/geo/cities?offset=5&amp;limit=5&#34;},{&#34;rel&#34;:&#34;last&#34;,&#34;href&#34;:&#34;/v1/geo/cities?offset=72150&amp;limit=5&#34;}],&#34;metadata&#34;:{&#34;currentOffset&#34;:0,&#34;totalCount&#34;:72155}}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="response-with-json-test">response with json test<a class="anchor-link" href="#response-with-json-test"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://wft-geo-db.p.rapidapi.com/v1/geo/adminDivisions&quot;</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;9c66664f59msh6192ef0d1546d18p17967bjsne6b5e3ca1958&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;wft-geo-db.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;bound method Response.json of &lt;Response [200]&gt;&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">cities</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="n">cities</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span> <span class="c1"># allows for multiple searches</span>
	<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://visual-crossing-weather.p.rapidapi.com/forecast&quot;</span>

	<span class="n">item</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Select a city:&quot;</span><span class="p">)</span> <span class="c1"># allows for search</span>

	<span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;aggregateHours&quot;</span><span class="p">:</span><span class="s2">&quot;24&quot;</span><span class="p">,</span><span class="s2">&quot;location&quot;</span><span class="p">:</span><span class="n">item</span><span class="p">,</span><span class="s2">&quot;contentType&quot;</span><span class="p">:</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span><span class="s2">&quot;unitGroup&quot;</span><span class="p">:</span><span class="s2">&quot;us&quot;</span><span class="p">,</span><span class="s2">&quot;shortColumnNames&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">}</span>

	<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
		<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;6b9dacaef5mshade649601d1255fp14c8c2jsn9aeceb731b2b&quot;</span><span class="p">,</span>
		<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;visual-crossing-weather.p.rapidapi.com&quot;</span>
	<span class="p">}</span>

	<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>

	<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
	<span class="n">cities</span> <span class="o">=</span> <span class="p">(</span><span class="n">cities</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

